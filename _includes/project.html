<div class="project">
  {% if project.shorttitle %}
  <span class="title">{{project.shorttitle}}</span>
  {% else %}
  <span class="title">{{project.title}}</span>
  {% endif project.shorttitle %}
  {% if project.image_url %} {% assign image_path = project.image_url %} {% else %} {% assign image_path = "/images/projects/" | append: project.image | relative_url %} {% endif %}
  {% if project.url || project.code || project.article || project.paper %}
    <a href="{{ project.url || project.code || project.article || project.paper }}" class="preview-image" style="background-image: url('{{ image_path }}')"><span class="link-spanner"></span></a>
  {% else %}
    <span class="preview-image" style="background-image: url('{{ image_path }}')"><span class="link-spanner"></span></span>
  {% endif %}
  <p>
    {{ project.description | markdownify | remove: '<p>' | remove: '</p>' }}
  </p>
  <div class="spacer"></div>
  <div class="links">
    {% if project.article %}
      <a href="{{ project.article }}"><i class="fas fa-newspaper" aria-hidden="true"></i> Post</a>
    {% endif %}
    {% if project.demo %}
      <a href="{{ project.demo }}"><i class="fas fa-play" aria-hidden="true"></i> Demo</a>
    {% endif %}
    {% if project.url %}
      <a href="{{ project.url }}"><i class="fas fa-link" aria-hidden="true"></i> Website</a>
    {% endif %}
    {% if project.code %}
      <a href="{{ project.code }}"><i class="fab fa-github" aria-hidden="true"></i> Code</a>
    {% endif %}
    {% if project.book %}
      <a href="{{ project.book }}"><i class="fas fa-book" aria-hidden="true"></i> Book</a>
    {% endif %}
    {% if project.video %}
      <a href="{{ project.video }}"><i class="fas fa-film" aria-hidden="true"></i> Video</a>
    {% endif %}
    {% if project.recording %}
      <a href="{{ project.recording }}"><i class="fas fa-video" aria-hidden="true"></i> Recording</a>
    {% endif %}
  </div>
</div>
